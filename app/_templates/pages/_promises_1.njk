{% from "../components/_price.njk" import price %}
{% from "../components/_selectableBox.njk" import selectableBox %}
{% from "../components/_forms.njk" import input %}
{% from "../components/_forms.njk" import select %}
{% from "../components/_forms.njk" import select %}
{% from "../structure/_header.njk" import header %}
{% from "../structure/_title.njk" import title %}

<section class="page-promises promises_1">
	{{ header({
        progress: 30,
		link: {
			href: '/prometer.html',
			text: 'volver a la pantalla anterior'
		}
	}) }}

    <div class="restrict-width">
        {{ title({
		    title: 'Generar promesa por monto',
            subtitle: '<span></span>Comprometeté a abonar el <strong>monto total de la deuda</strong> o <strong>ingresá otro monto</strong>, elegí cuando vas a efectuar el pago (<strong>periodo</strong>) y luego hace clic en <strong>generar promesa</strong>.'
	    }) }}

        {% call selectableBox({class: 'flex-column'}) %}
			<div class="flex-row col-container">
				<div class="box col-1-2 full-width-mobile">
					<span>Monto total de la deuda</span>
					{{ price("19959057") }}
				</div>
				<div class="box col-1-2 full-width-mobile">
					<span>Ingresar otro monto</span>
					{{ input({
						class: 'huge price',
						placeholder: '0,00'
					}) }}
				</div>
			</div>
			<div class="flex-row col-container">
				<div class="box col-1-2 full-width-mobile">
					{{ select({
						date: true,
						'id': '',
						'items': ['24hs', '48hs', '72hs', 'Elegir fecha'],
						'placeholder': 'PERIODO'
					}) }}
				</div>
				<div class="col-1-2">&nbsp;</div>
			</div>
        {% endcall %}
        <div>
            <button class="btn" data-next>Generar promesa</button>
        </div>
    </div>
</section>

<script>
	const boxes = document.querySelectorAll('.selectable-box .box')

	document.querySelector('[data-next]').addEventListener('click', () => {
		if (boxes[0].classList.contains('active')) {
			window.location.href = '/prometer_3.html'
		} else if (boxes[1].classList.contains('active')) {
			window.location.href = '/prometer_4.html'
		} else {
			window.location.href = '/prometer_5.html'
		}
	})
</script>