{% from "../components/_tables.njk" import table %}
{% from "../components/_dialogs.njk" import dialog %}
{% from "../components/_breadcrumbs.njk" import breadcrumb %}
{% from "../components/_forms.njk" import input %}
{% from "../components/_forms.njk" import select %}

{% set page = pages.pay_3 %}

{{ dialog(page.sidebar) }}

<section class="page-pay pay-third restrict-desktop">
	<h1>Registrar pago</h1>
	<div class="payment-selector box">
		<form class="form flex-column box" novalidate>
            <div class=" flex flex-column">
                <div>
                    <div class="form-group flex-row">
                        <div class="flex-grow">
                            {{ input({
                                'id': '',
                                'placeholder': 'Total abonado'
                                })
                            }}
                        </div>
                        <div class="">
                            {{ select({
                                'id': '',
                                'items': ['Parcial', 'Parcial2'],
                                'placeholder': 'Total abonado'
                            }) }}
                        </div>
                    </div>
                    <div class="form-group">
                        {{ select({
                            'id': '',
                            'items': page.page_1.genres,
                            'placeholder': 'Medio de pago'
                        }) }}
                    </div>
                    <div class="form-group">
                        <div class="flex-row flex-center">
                            <div class="flex-column flex-center flex-grow">
                                {{ input({
                                    'id': '',
                                    'class': 'flex-center flex-column',
                                    'placeholder': 'NÂ° de comprobante'
                                    })
                                }}
                            </div>
                            <div class="flex-column flex-center flex-grow">
                                {{ select({
                                    'id': '',
                                    'placeholder': 'Fecha'
                                }) }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex-row flex-center">
                    <div class="flex-row flex-center">
                        <div class="flex-column flex-center flex-grow">
                            {{ input({
                                'id': '',
                                'type': 'textarea',
                                'placeholder': 'Comentario'
                            }) }}
                        </div>
                    </div>
                </div>
            </div>
        </form>
	</div>
    <div class="flex-row flex-end">
		<button class="btn next">Registrar pago</button>
	</div>
</section>


<script>
	document.querySelectorAll('.btn.next').forEach((tr) => {
		tr.addEventListener('click', () => {
			document.querySelector('#pay-sidebar').classList.add('active')
			document.querySelector('html').classList.add('no-scroll')
		})
	})

	document.querySelector('.overlay .close-btn').addEventListener('click', () => {
		document.querySelector('.overlay').classList.remove('active')
		document.querySelector('html').classList.remove('no-scroll')
	})
</script>